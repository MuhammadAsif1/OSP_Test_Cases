Controller ip's ['192.168.120.142', '192.168.120.125', '192.168.120.131']
Compute ip's ['192.168.120.139', '192.168.120.134', '192.168.120.144']
==========================================================================================================
====         DVR TEST CASE 17:     Perform network bandwidth test                                    =====
====                 with 2 instance on same tenant network and on diff compute node                 =====
==========================================================================================================
Creating two instances on Different Compute and Same Tenant Network..
Creating Network: tt_net
Creating Router: tt_router
Creating Server: tt_vm1
Server Count: 1

Server Created Successfully!
Creating Server: tt_vm2
Server Count: 1

Server Created Successfully!
Assigning floating ip to tt_vm1
Creating & Assigning Floating IP..
Assigning floating ip to tt_vm2
Creating & Assigning Floating IP..
Instance1 >> Fixed IP: (192.168.10.11) , Floating IP: (100.82.39.78)
Instance2 >> Fixed IP: (192.168.10.6) , Floating IP: (100.82.39.95)
Two instances Created Successfully.
>>Will be checking bandwidth through private IPs.
iperf3 is not installed on 100.82.39.95
Sending iperf3 package: iperf3-3.1.7-2.el7.x86_64.rpm
Installing package...
warning: /home/centos/iperf3-3.1.7-2.el7.x86_64.rpm: Header V3 RSA/SHA256 Signature, key ID f4a80eb5: NOKEY
Preparing...                                                            (100%)#                                 (100%)##                                (100%)###                               (100%)####                              (100%)#####                             (100%)######                            (100%)#######                           (100%)########                          (100%)#########                         (100%)##########                        (100%)###########                       (100%)############                      (100%)#############                     (100%)##############                    (100%)###############                   (100%)################                  (100%)#################                 (100%)##################                (100%)###################               (100%)####################              (100%)#####################             (100%)######################            (100%)#######################           (100%)########################          (100%)#########################         (100%)##########################        (100%)###########################       (100%)############################      (100%)#############################     (100%)##############################    (100%)###############################   (100%)################################  (100%)################################# (100%)################################# [100%]
Updating / installing...
   1:iperf3-3.1.7-2.el7                                                 (  6%)#                                 (  6%)##                                ( 38%)###                               ( 38%)####                              ( 38%)#####                             ( 38%)######                            ( 38%)#######                           ( 38%)########                          ( 38%)#########                         ( 38%)##########                        ( 38%)###########                       ( 38%)############                      ( 38%)#############                     ( 70%)##############                    ( 70%)###############                   ( 70%)################                  ( 70%)#################                 ( 70%)##################                ( 70%)###################               ( 70%)####################              ( 70%)#####################             ( 70%)######################            ( 70%)#######################           ( 70%)########################          ( 74%)#########################         ( 79%)##########################        ( 79%)###########################       ( 86%)############################      ( 86%)#############################     ( 89%)##############################    ( 98%)###############################   ( 98%)################################  ( 98%)################################# ( 99%)################################# [100%]

iperf3 is not installed on 100.82.39.78
Sending iperf3 package: iperf3-3.1.7-2.el7.x86_64.rpm
Installing package...
warning: /home/centos/iperf3-3.1.7-2.el7.x86_64.rpm: Header V3 RSA/SHA256 Signature, key ID f4a80eb5: NOKEY
Preparing...                                                            (100%)#                                 (100%)##                                (100%)###                               (100%)####                              (100%)#####                             (100%)######                            (100%)#######                           (100%)########                          (100%)#########                         (100%)##########                        (100%)###########                       (100%)############                      (100%)#############                     (100%)##############                    (100%)###############                   (100%)################                  (100%)#################                 (100%)##################                (100%)###################               (100%)####################              (100%)#####################             (100%)######################            (100%)#######################           (100%)########################          (100%)#########################         (100%)##########################        (100%)###########################       (100%)############################      (100%)#############################     (100%)##############################    (100%)###############################   (100%)################################  (100%)################################# (100%)################################# [100%]
Updating / installing...
   1:iperf3-3.1.7-2.el7                                                 (  6%)#                                 (  6%)##                                ( 38%)###                               ( 38%)####                              ( 38%)#####                             ( 38%)######                            ( 38%)#######                           ( 38%)########                          ( 38%)#########                         ( 38%)##########                        ( 38%)###########                       ( 38%)############                      ( 38%)#############                     ( 70%)##############                    ( 70%)###############                   ( 70%)################                  ( 70%)#################                 ( 70%)##################                ( 70%)###################               ( 70%)####################              ( 70%)#####################             ( 70%)######################            ( 70%)#######################           ( 70%)########################          ( 74%)#########################         ( 79%)##########################        ( 79%)###########################       ( 86%)############################      ( 86%)#############################     ( 89%)##############################    ( 98%)###############################   ( 98%)################################  ( 98%)################################# ( 99%)################################# [100%]

Checking TCP Bandwidth...
-----------------------------------------------------------
Server listening on 5201
-----------------------------------------------------------
Accepted connection from 192.168.10.11, port 46374
[  5] local 192.168.10.6 port 5201 connected to 192.168.10.11 port 46376
[ ID] Interval           Transfer     Bandwidth
[  5]   0.00-1.00   sec  1.69 GBytes  14.5 Gbits/sec
[  5]   1.00-2.00   sec  1.74 GBytes  15.0 Gbits/sec
[  5]   2.00-3.00   sec  1.70 GBytes  14.6 Gbits/sec
[  5]   3.00-4.00   sec  1.78 GBytes  15.3 Gbits/sec
[  5]   4.00-5.00   sec  1.87 GBytes  16.0 Gbits/sec
[  5]   5.00-6.00   sec  1.71 GBytes  14.7 Gbits/sec
[  5]   6.00-7.00   sec  1.91 GBytes  16.4 Gbits/sec
[  5]   7.00-8.00   sec  1.76 GBytes  15.1 Gbits/sec
[  5]   8.00-9.00   sec  1.79 GBytes  15.4 Gbits/sec
[  5]   9.00-10.00  sec  1.76 GBytes  15.1 Gbits/sec
[  5]  10.00-10.04  sec  64.0 MBytes  14.3 Gbits/sec
- - - - - - - - - - - - - - - - - - - - - - - - -
[ ID] Interval           Transfer     Bandwidth
[  5]   0.00-10.04  sec  0.00 Bytes  0.00 bits/sec                  sender
[  5]   0.00-10.04  sec  17.8 GBytes  15.2 Gbits/sec                  receiver
-----------------------------------------------------------
Server listening on 5201
-----------------------------------------------------------
iperf3: interrupt - the server has terminated

Bandwidth: 15.2 Gbits/sec

Deleting both instances..
Deleting Server: tt_vm1..
Server Deleted successfully
Deleting all unattached floating IPs.
Deleting Server: tt_vm2..
Server Deleted successfully
Deleting all unattached floating IPs.
Deleting Network & Router..
Deleting Interfaces..
Interface Deleted successfully
Deleting Port..
Port Deleted successfully
Deleting Subnetwork..
Subnet Deleted successfully
Deleting Network..
Network Deleted successfully
Deleting Router..
Router Deleted successfully
TEST SUCCESSFUL
