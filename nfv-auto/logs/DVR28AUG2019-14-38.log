Controller ip's ['192.168.120.142', '192.168.120.125', '192.168.120.131']
Compute ip's ['192.168.120.139', '192.168.120.134', '192.168.120.144']
==========================================================================================================
====         DVR TEST CASE 16:     Perform network bandwidth test                                    =====
====                 with 2 instance on diff tenant network and on same compute node                 =====
==========================================================================================================
Creating two instances on Same Compute and on Different Tenant Network..
Creating Network: tt_net1
Creating Network: tt_net2
Creating Router: tt_router
Creating Server: tt_vm1
Server Count: 1

Server Created Successfully!
Creating Server: tt_vm2
Server Count: 1

Server Created Successfully!
Assigning floating ip to tt_vm1
Creating & Assigning Floating IP..
Assigning floating ip to tt_vm2
Creating & Assigning Floating IP..
Instance1 >> Fixed IP: (192.168.20.11) , Floating IP: (100.82.39.78)
Instance2 >> Fixed IP: (192.168.30.5) , Floating IP: (100.82.39.82)
Two instances Created Successfully.
>>Will be checking bandwidth through private IPs.
iperf3 is not installed on 100.82.39.82
Sending iperf3 package: iperf3-3.1.7-2.el7.x86_64.rpm
Installing package...
warning: /home/centos/iperf3-3.1.7-2.el7.x86_64.rpm: Header V3 RSA/SHA256 Signature, key ID f4a80eb5: NOKEY
Preparing...                                                            (100%)#                                 (100%)##                                (100%)###                               (100%)####                              (100%)#####                             (100%)######                            (100%)#######                           (100%)########                          (100%)#########                         (100%)##########                        (100%)###########                       (100%)############                      (100%)#############                     (100%)##############                    (100%)###############                   (100%)################                  (100%)#################                 (100%)##################                (100%)###################               (100%)####################              (100%)#####################             (100%)######################            (100%)#######################           (100%)########################          (100%)#########################         (100%)##########################        (100%)###########################       (100%)############################      (100%)#############################     (100%)##############################    (100%)###############################   (100%)################################  (100%)################################# (100%)################################# [100%]
Updating / installing...
   1:iperf3-3.1.7-2.el7                                                 (  6%)#                                 (  6%)##                                ( 38%)###                               ( 38%)####                              ( 38%)#####                             ( 38%)######                            ( 38%)#######                           ( 38%)########                          ( 38%)#########                         ( 38%)##########                        ( 38%)###########                       ( 38%)############                      ( 38%)#############                     ( 70%)##############                    ( 70%)###############                   ( 70%)################                  ( 70%)#################                 ( 70%)##################                ( 70%)###################               ( 70%)####################              ( 70%)#####################             ( 70%)######################            ( 70%)#######################           ( 70%)########################          ( 74%)#########################         ( 79%)##########################        ( 79%)###########################       ( 86%)############################      ( 86%)#############################     ( 89%)##############################    ( 98%)###############################   ( 98%)################################  ( 98%)################################# ( 99%)################################# [100%]

iperf3 is not installed on 100.82.39.78
Sending iperf3 package: iperf3-3.1.7-2.el7.x86_64.rpm
Installing package...
warning: /home/centos/iperf3-3.1.7-2.el7.x86_64.rpm: Header V3 RSA/SHA256 Signature, key ID f4a80eb5: NOKEY
Preparing...                                                            (100%)#                                 (100%)##                                (100%)###                               (100%)####                              (100%)#####                             (100%)######                            (100%)#######                           (100%)########                          (100%)#########                         (100%)##########                        (100%)###########                       (100%)############                      (100%)#############                     (100%)##############                    (100%)###############                   (100%)################                  (100%)#################                 (100%)##################                (100%)###################               (100%)####################              (100%)#####################             (100%)######################            (100%)#######################           (100%)########################          (100%)#########################         (100%)##########################        (100%)###########################       (100%)############################      (100%)#############################     (100%)##############################    (100%)###############################   (100%)################################  (100%)################################# (100%)################################# [100%]
Updating / installing...
   1:iperf3-3.1.7-2.el7                                                 (  6%)#                                 (  6%)##                                ( 38%)###                               ( 38%)####                              ( 38%)#####                             ( 38%)######                            ( 38%)#######                           ( 38%)########                          ( 38%)#########                         ( 38%)##########                        ( 38%)###########                       ( 38%)############                      ( 38%)#############                     ( 70%)##############                    ( 70%)###############                   ( 70%)################                  ( 70%)#################                 ( 70%)##################                ( 70%)###################               ( 70%)####################              ( 70%)#####################             ( 70%)######################            ( 70%)#######################           ( 70%)########################          ( 74%)#########################         ( 79%)##########################        ( 79%)###########################       ( 86%)############################      ( 86%)#############################     ( 89%)##############################    ( 98%)###############################   ( 98%)################################  ( 98%)################################# ( 99%)################################# [100%]

Checking TCP Bandwidth...
-----------------------------------------------------------
Server listening on 5201
-----------------------------------------------------------
Accepted connection from 192.168.20.11, port 58178
[  5] local 192.168.30.5 port 5201 connected to 192.168.20.11 port 58180
[ ID] Interval           Transfer     Bandwidth
[  5]   0.00-1.00   sec  2.11 GBytes  18.1 Gbits/sec
[  5]   1.00-2.00   sec  2.17 GBytes  18.7 Gbits/sec
[  5]   2.00-3.00   sec  2.11 GBytes  18.1 Gbits/sec
[  5]   3.00-4.00   sec  1.86 GBytes  16.0 Gbits/sec
[  5]   4.00-5.00   sec  2.17 GBytes  18.6 Gbits/sec
[  5]   5.00-6.00   sec  1.58 GBytes  13.6 Gbits/sec
[  5]   6.00-7.00   sec  1.92 GBytes  16.5 Gbits/sec
[  5]   7.00-8.00   sec  2.17 GBytes  18.7 Gbits/sec
[  5]   8.00-9.00   sec  1.98 GBytes  17.0 Gbits/sec
[  5]   9.00-10.00  sec  2.26 GBytes  19.4 Gbits/sec
[  5]  10.00-10.04  sec  95.2 MBytes  20.7 Gbits/sec
- - - - - - - - - - - - - - - - - - - - - - - - -
[ ID] Interval           Transfer     Bandwidth
[  5]   0.00-10.04  sec  0.00 Bytes  0.00 bits/sec                  sender
[  5]   0.00-10.04  sec  20.4 GBytes  17.5 Gbits/sec                  receiver
-----------------------------------------------------------
Server listening on 5201
-----------------------------------------------------------
iperf3: interrupt - the server has terminated

Bandwidth: 17.5 Gbits/sec

Deleting both instances..
Deleting Server: tt_vm1..
Server Deleted successfully
Deleting all unattached floating IPs.
Deleting Server: tt_vm2..
Server Deleted successfully
Deleting all unattached floating IPs.
Deleting Network: tt_net1 and tt_net2
Deleting Interfaces..
Interface Deleted successfully
Deleting Interfaces..
Interface Deleted successfully
Deleting Port..
Port Deleted successfully
Deleting Port..
Port Deleted successfully
Deleting Subnetwork..
Subnetwork Deleted successfully
Deleting Subnetwork..
Subnetwork Deleted successfully
Deleting Network..
Network Deleted successfully
Deleting Network..
Network Deleted successfully
Deleting Router: tt_router..
Router Deleted successfully
TEST SUCCESSFUL
