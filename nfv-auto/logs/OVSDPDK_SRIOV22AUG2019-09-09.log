==========================================================================================================
====  TEST CASE 13: Run iperf3 test of an sriov instance to ovs-dpdk instance in different scenarios  ====
====     1.same compute same network ====
==========================================================================================================
Creating Sriov Enabled Network: sriov_dpdk_net
Creating Sriov Enabled SubNet: sriov_dpdk_subnet
Creating Sriov Enabled Port: s_port
Creating Router: sriov_dpdk_router
Network already exists with the same name.
Creating Router: sriov_dpdk_router
Router already exists.
Creating Server with Port ID..
Creating & Assigning Floating IP..
Instance >> Fixed IP: (192.168.70.9) , Floating IP: (100.82.39.80)
Creating Network: sriov_dpdk_net
Network already exists with the same name.
Creating Router: sriov_dpdk_router
Router already exists.
Creating Server: d_instance
Server Count: 1

Server Created Successfully!
Assigning floating ip to d_instance
Creating & Assigning Floating IP..
Instance >> Fixed IP: (192.168.70.18) , Floating IP: (100.82.39.89)
iperf3 is not installed on 100.82.39.89
Sending iperf3 package: iperf3-3.1.7-2.el7.x86_64.rpm
Installing package...
warning: /home/centos/iperf3-3.1.7-2.el7.x86_64.rpm: Header V3 RSA/SHA256 Signature, key ID f4a80eb5: NOKEY
Preparing...                                                            (100%)#                                 (100%)##                                (100%)###                               (100%)####                              (100%)#####                             (100%)######                            (100%)#######                           (100%)########                          (100%)#########                         (100%)##########                        (100%)###########                       (100%)############                      (100%)#############                     (100%)##############                    (100%)###############                   (100%)################                  (100%)#################                 (100%)##################                (100%)###################               (100%)####################              (100%)#####################             (100%)######################            (100%)#######################           (100%)########################          (100%)#########################         (100%)##########################        (100%)###########################       (100%)############################      (100%)#############################     (100%)##############################    (100%)###############################   (100%)################################  (100%)################################# (100%)################################# [100%]
Updating / installing...
   1:iperf3-3.1.7-2.el7                                                 (  6%)#                                 (  6%)##                                ( 38%)###                               ( 38%)####                              ( 38%)#####                             ( 38%)######                            ( 38%)#######                           ( 38%)########                          ( 38%)#########                         ( 38%)##########                        ( 38%)###########                       ( 38%)############                      ( 38%)#############                     ( 70%)##############                    ( 70%)###############                   ( 70%)################                  ( 70%)#################                 ( 70%)##################                ( 70%)###################               ( 70%)####################              ( 70%)#####################             ( 70%)######################            ( 70%)#######################           ( 70%)########################          ( 74%)#########################         ( 79%)##########################        ( 79%)###########################       ( 86%)############################      ( 86%)#############################     ( 89%)##############################    ( 98%)###############################   ( 98%)################################  ( 98%)################################# ( 99%)################################# [100%]

iperf3 is not installed on 100.82.39.80
Sending iperf3 package: iperf3-3.1.7-2.el7.x86_64.rpm
Installing package...
warning: /home/centos/iperf3-3.1.7-2.el7.x86_64.rpm: Header V3 RSA/SHA256 Signature, key ID f4a80eb5: NOKEY
Preparing...                                                            (100%)#                                 (100%)##                                (100%)###                               (100%)####                              (100%)#####                             (100%)######                            (100%)#######                           (100%)########                          (100%)#########                         (100%)##########                        (100%)###########                       (100%)############                      (100%)#############                     (100%)##############                    (100%)###############                   (100%)################                  (100%)#################                 (100%)##################                (100%)###################               (100%)####################              (100%)#####################             (100%)######################            (100%)#######################           (100%)########################          (100%)#########################         (100%)##########################        (100%)###########################       (100%)############################      (100%)#############################     (100%)##############################    (100%)###############################   (100%)################################  (100%)################################# (100%)################################# [100%]
Updating / installing...
   1:iperf3-3.1.7-2.el7                                                 (  6%)#                                 (  6%)##                                ( 38%)###                               ( 38%)####                              ( 38%)#####                             ( 38%)######                            ( 38%)#######                           ( 38%)########                          ( 38%)#########                         ( 38%)##########                        ( 38%)###########                       ( 38%)############                      ( 38%)#############                     ( 70%)##############                    ( 70%)###############                   ( 70%)################                  ( 70%)#################                 ( 70%)##################                ( 70%)###################               ( 70%)####################              ( 70%)#####################             ( 70%)######################            ( 70%)#######################           ( 70%)########################          ( 74%)#########################         ( 79%)##########################        ( 79%)###########################       ( 86%)############################      ( 86%)#############################     ( 89%)##############################    ( 98%)###############################   ( 98%)################################  ( 98%)################################# ( 99%)################################# [100%]

Checking TCP Bandwidth...
-----------------------------------------------------------
Server listening on 5201
-----------------------------------------------------------
Accepted connection from 192.168.70.9, port 46954
[  5] local 192.168.70.18 port 5201 connected to 192.168.70.9 port 46956
[ ID] Interval           Transfer     Bandwidth
[  5]   0.00-1.00   sec  1.15 GBytes  9.92 Gbits/sec
[  5]   1.00-2.00   sec  1.20 GBytes  10.3 Gbits/sec
[  5]   2.00-3.00   sec  1.20 GBytes  10.3 Gbits/sec
[  5]   3.00-4.00   sec  1.21 GBytes  10.4 Gbits/sec
[  5]   4.00-5.00   sec  1.20 GBytes  10.3 Gbits/sec
[  5]   5.00-6.00   sec  1.21 GBytes  10.4 Gbits/sec
[  5]   6.00-7.00   sec  1.20 GBytes  10.3 Gbits/sec
[  5]   7.00-8.00   sec  1.21 GBytes  10.4 Gbits/sec
[  5]   8.00-9.00   sec  1.20 GBytes  10.3 Gbits/sec
[  5]   9.00-10.00  sec  1.20 GBytes  10.3 Gbits/sec
[  5]  10.00-10.04  sec  47.4 MBytes  10.4 Gbits/sec
- - - - - - - - - - - - - - - - - - - - - - - - -
[ ID] Interval           Transfer     Bandwidth
[  5]   0.00-10.04  sec  0.00 Bytes  0.00 bits/sec                  sender
[  5]   0.00-10.04  sec  12.0 GBytes  10.3 Gbits/sec                  receiver
-----------------------------------------------------------
Server listening on 5201
-----------------------------------------------------------
iperf3: interrupt - the server has terminated

Bandwidth: 10.3 Gbits/sec

Test 13 same compute and same network successful
Deleting Server: s_instance..
Server Deleted successfully
Deleting all unattached floating IPs.
Deleting Server: d_instance..
Server Deleted successfully
Deleting all unattached floating IPs.
Deleting Network & Router..
Deleting Interfaces..
Interface Deleted successfully
Deleting Port..
Port Deleted successfully
Deleting Subnetwork..
Subnet Deleted successfully
Deleting Network..
Network Deleted successfully
Deleting Router..
Router Deleted successfully
